# 通用

* `!$` 变量引用上条命令的最后一个参数，而无需再 `<C-p>`、`<C-a>` ；
	* 在 Bash 中，还有 `$_` 变量同样引用上次命令的最后一个参数，与 `!$` 有细微差别：`$!` 面向“上一行”命令，而 `$_` 面向“上一次”命令；快捷键 `<M-.>` 可以向前浏览 `!$`；
	* 在 Fish 中，`$_` 变量引用当前进程命令，而 `<M-.>` 快捷键则向前浏览命令的每个参数；
* 进程管理
	* 在命令后加 `&` 将后台运行命令；
	* `jobs -l` 可以查看后台进程的 PID；
	* 如果运行时忘记添加 `&` ，可以先 `<C-z>` 挂起进程，再使用 `bg` 将它放在后台运行；
	* 可直接用任务号来调用 `kill` 来终止进程；
	* `<C-z>` 的作用相当于发送 SIGSTOP 信号（`kill -17`），而 `bg/fg` 的作用则相当于发送 SIGCONT 信号（`kill -19`）；
	* 当 shell 终止时，所有后台进程可能也会终止，取决于 shell 的配置；使用 `disown` 来在 shell 终止时将任务转接给 init 进程；
	* 使用 `nohup <CMD>` 调用命令，此时命令仍在前台执行；当 shell 终止时，命令将被转接给 init 进程，而命令的输出将保存到 nohup.out 中；
* shell 内置的 which 将显示 alias ，而 /usr/bin/which 则不会显示 alias；
* `script` 命令可用于录制 shell 会话（非常简陋，建议使用 vhs 等现代化一点的工具）；
* `fc` 命令可使用 `$EDITOR` 编辑上一条命令，退出编辑器时运行该命令；
* `reset` 命令可重新初始化当前 shell ，清除屏幕输出；

# Bash

* `^<FROM>^<TO>` 语法可以将上次命令中第一次出现的 `<FROM>` 替换为 `<TO>` ，并执行该命令；
* `$OLDPWD` 变量存储上次所在目录；
* `!<CMD>` 语法可以运行上次该命令及其全部参数，但这样做有风险，建议先使用 `!<CMD>:p` 来预览命令；