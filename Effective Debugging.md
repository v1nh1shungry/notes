# 调试符号

## 调试符号种类

* 全局函数和变量。这⼀类包含了在各个编译单元可⻅的全局符号类型和位置信息。全局变量具有相对它们属于的 加载模块基址的固定地址。全局变量在其生命周期内，无论程序在哪一个分支，都可以对数据进行观察、修改和断点；
* 源文件和行信息；
* 类型信息。调试符号包含每⼀个⼦字段的名字、⼤⼩和相对整个结构开头的偏移。对于复杂的语⾔⽐如 C++，这是特别有⽤的，因为为了实现语⾔的语义，编译器添加 了隐藏的数据成员到数据对象⾥⾯。这些隐藏的数据成员是依赖编译器实现。检验对象内存值 时，将它们从”真正“的数据成员区分开来⾮常困难；
* 静态函数和局部变量。局部变量的调试符号包含作⽤域的信息，也包含局部变量的位置。作⽤域通常表⽰为指令 的范围和相对函数栈帧的偏移的位置；
* 架构和编译器依赖信息；

## 调试符号格式

* Linux，Solaris 和 HP-UX 现在使⽤ DWARF; AIX 和⽼版本的 Solaris 使⽤ stabs（symbol table string)；Windows 有多种在⽤的格式，最受欢迎的是 pdb；

## DWARF 格式

* DWARF像结构体⼀样以树的形式组织调试符号。这跟⼤部分语⾔内在也是树结构的词法作⽤域相对 应。每⼀个树节点是⼀个DIE (Debug information entry)；